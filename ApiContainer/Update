. Load

rm -rf /Temp
mkdir /Temp
cd /Temp

dotnet new console

cp /PaydarCore/DotNet/Nuget.sh .
./Nuget.sh

cat /PaydarCore/DotNet/Nuget.targets | grep PackageReference > Old
cat Temp.csproj | grep PackageReference > New

sed -i 's/^.*Include=//' Old New
sed -i 's/\/>//' Old New

if cmp -s Old New ; then
    Divide
    echo -e "❤️  Your packages look amazing. Keep up the great work. ❤️"
    echo
    exit;
fi

Divide
Info Packages changes
Divide

diff -a --suppress-common-lines -y Old New

Divide
Warning 'Save updates? (y,n)'
read Consent

if [ $Consent != 'y' ]; then
    exit;
fi

echo $'<Project>\n\n  <ItemGroup>\n' > Nuget.targets
cat Temp.csproj | grep PackageReference >> Nuget.targets
echo $'\n  </ItemGroup>\n\n</Project>' >> Nuget.targets

cp Nuget.targets /PaydarCore/DotNet
echo
echo
Success Updating saved, push and run GitHub action
echo
